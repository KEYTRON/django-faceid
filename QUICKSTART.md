# –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ Django FaceID

## üöÄ –ó–∞–ø—É—Å–∫ –∑–∞ 5 –º–∏–Ω—É—Ç

### 1. –ê–∫—Ç–∏–≤–∞—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
cd /Users/keytron46/Documents/GitHub/django-faceid
source .venv/bin/activate
```

### 2. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
```bash
python manage.py runserver 0.0.0.0:8000
```

### 3. –û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- **–ó–∞–ø–∏—Å—å —à–∞–±–ª–æ–Ω–∞**: http://localhost:8000/faceid/enroll/
- **–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è**: http://localhost:8000/faceid/verify/

## üìã –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

‚úÖ **–ó–∞–ø–∏—Å—å —à–∞–±–ª–æ–Ω–∞ –ª–∏—Ü–∞ (Enroll)**
- –î–æ—Å—Ç—É–ø –∫ –≤–µ–±-–∫–∞–º–µ—Ä–µ
- MediaPipe –¥–µ—Ç–µ–∫—Ü–∏—è –ª–∏—Ü –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –†–∞–Ω–¥–æ–º–Ω—ã–µ —á–µ–ª–ª–µ–Ω–¥–∂–∏ –∂–∏–≤–æ—Å—Ç–∏ (–ø–æ–≤–æ—Ä–æ—Ç—ã –≥–æ–ª–æ–≤—ã, –º–æ—Ä–≥–∞–Ω–∏–µ)
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ 3-5 –ª—É—á—à–∏—Ö –∫–∞–¥—Ä–æ–≤
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ —á–µ—Ä–µ–∑ InsightFace

‚úÖ **–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –ª–∏—Ü–∞ (Verify)**
- –í–≤–æ–¥ –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —á–µ–ª–ª–µ–Ω–¥–∂–µ–π –∂–∏–≤–æ—Å—Ç–∏
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–º–∏ —à–∞–±–ª–æ–Ω–∞–º–∏
- –ö–æ—Å–∏–Ω—É—Å–Ω–æ–µ —Å—Ö–æ–¥—Å—Ç–≤–æ —Å –ø–æ—Ä–æ–≥–æ–º 0.4

‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**
- WebSocket –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
- –ó–∞—â–∏—Ç–∞ –æ—Ç —Ä–µ–ø–ª–µ–π-–∞—Ç–∞–∫ —á–µ—Ä–µ–∑ —Ä–∞–Ω–¥–æ–º–Ω—ã–µ —á–µ–ª–ª–µ–Ω–¥–∂–∏
- –ù–µ —Ö—Ä–∞–Ω–∏–º –≤–∏–¥–µ–æ, —Ç–æ–ª—å–∫–æ —ç–º–±–µ–¥–¥–∏–Ω–≥–∏

## üéØ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ MVP

### –ß–µ–ª–ª–µ–Ω–¥–∂–∏ –∂–∏–≤–æ—Å—Ç–∏
- **–ü–æ–≤–æ—Ä–æ—Ç—ã –≥–æ–ª–æ–≤—ã**: yaw (–≤–ª–µ–≤–æ/–≤–ø—Ä–∞–≤–æ) >= 15¬∞
- **–ü–æ–¥—ä–µ–º/–æ–ø—É—Å–∫–∞–Ω–∏–µ**: pitch (–≤–≤–µ—Ä—Ö/–≤–Ω–∏–∑) >= 10¬∞  
- **–ú–æ—Ä–≥–∞–Ω–∏–µ**: –¥–µ—Ç–µ–∫—Ü–∏—è —á–µ—Ä–µ–∑ MediaPipe blendshapes
- **–†–∞–Ω–¥–æ–º–Ω–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –∑–∞—â–∏—Ç–∞ –æ—Ç –ø—Ä–µ–¥–∑–∞–ø–∏—Å–∞–Ω–Ω—ã—Ö —Ä–æ–ª–∏–∫–æ–≤

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏
- **–ü–æ—Ä–æ–≥ —Å—Ö–æ–¥—Å—Ç–≤–∞**: 0.4 (cosine similarity)
- **–¢–∞–π–º–∞—É—Ç —á–µ–ª–ª–µ–Ω–¥–∂–∞**: 25 —Å–µ–∫—É–Ω–¥
- **–ö–∞—á–µ—Å—Ç–≤–æ –∫–∞–¥—Ä–æ–≤**: JPEG 92% –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ —Ç—Ä–∞—Ñ–∏–∫–∞
- **–†–∞–∑–º–µ—Ä –¥–µ—Ç–µ–∫—Ü–∏–∏**: 640x640 –ø–∏–∫—Å–µ–ª–µ–π

## üîß –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
django-faceid/
‚îú‚îÄ‚îÄ config/                 # Django –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ settings.py        # –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ asgi.py           # ASGI + WebSocket
‚îÇ   ‚îî‚îÄ‚îÄ routing.py        # WebSocket –º–∞—Ä—à—Ä—É—Ç—ã
‚îú‚îÄ‚îÄ apps/faceid/
‚îÇ   ‚îú‚îÄ‚îÄ models.py         # FaceTemplate –º–æ–¥–µ–ª—å
‚îÇ   ‚îú‚îÄ‚îÄ views.py          # REST API endpoints
‚îÇ   ‚îú‚îÄ‚îÄ consumers.py      # WebSocket —á–µ–ª–ª–µ–Ω–¥–∂–∏
‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ insightface_backend.py  # –≠–º–±–µ–¥–¥–∏–Ω–≥–∏
‚îÇ   ‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ similarity.py # –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–µ–∫—Ç–æ—Ä–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ templates/        # HTML —à–∞–±–ª–æ–Ω—ã
‚îÇ   ‚îî‚îÄ‚îÄ static/          # CSS/JS —Ñ–∞–π–ª—ã
‚îî‚îÄ‚îÄ requirements.txt
```

## üé® –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å

- **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω**: —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö –∏ –¥–µ—Å–∫—Ç–æ–ø–∞—Ö
- **–ö—Ä–∞—Å–∏–≤—ã–µ –æ–≤–µ—Ä–ª–µ–∏**: –∫–æ–Ω—Ç—É—Ä –ª–∏—Ü–∞, –≥–ª–∞–∑–∞
- **–ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä**: –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —á–µ–ª–ª–µ–Ω–¥–∂–µ–π
- **–¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è**: –∑–µ–ª–µ–Ω—ã–π = –≤—ã–ø–æ–ª–Ω–µ–Ω–æ, –∫—Ä–∞—Å–Ω—ã–π = –æ—à–∏–±–∫–∞

## ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è MVP

- –ù–µ—Ç –∏–Ω—Ñ—Ä–∞–∫—Ä–∞—Å–Ω–æ–π –≥–ª—É–±–∏–Ω—ã (—Ä–∏—Å–∫ –≤—ã—Å–æ–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ñ–æ—Ç–æ)
- –ü—Ä–æ—Å—Ç–∞—è –æ—Ü–µ–Ω–∫–∞ –ø–æ–∑—ã –≥–æ–ª–æ–≤—ã (–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è —á–µ–ª–ª–µ–Ω–¥–∂–µ–π)
- JSON —Ö—Ä–∞–Ω–µ–Ω–∏–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ (–≤ –ø—Ä–æ–¥–µ –ª—É—á—à–µ pgvector)
- InMemory WebSocket (–¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –Ω—É–∂–µ–Ω Redis)

## üîÆ –ü—É—Ç—å –≤ –ø—Ä–æ–¥–∞–∫—à–Ω

1. **pgvector**: –±—ã—Å—Ç—Ä—ã–π ANN-–ø–æ–∏—Å–∫, –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π –ø–æ—Ä–æ–≥
2. **–°–ª–æ–∂–Ω—ã–µ –∞–Ω—Ç–∏-—Å–ø—É—Ñ—ã**: –∞–Ω–∞–ª–∏–∑ –º—É–∞—Ä–æ–≤, –º–∏–∫—Ä–æ-–¥–≤–∏–∂–µ–Ω–∏—è –≥–ª–∞–∑
3. **Redis Channels**: –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ WebSocket
4. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ø–æ–¥–ø–∏—Å–∞–Ω–∏–µ —Å–µ—Å—Å–∏–π, rate-limit
5. **UX**: –ø–ª–∞–≤–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏, –∞–Ω–∞–ª–∏–∑ –æ—Å–≤–µ—â–µ–Ω–∏—è

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–º–µ—Ä–∞
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –±—Ä–∞—É–∑–µ—Ä–∞
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –æ—à–∏–±–∫–∏

### –ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç InsightFace
- –ú–æ–¥–µ–ª–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ `.insightface/`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
- –õ–æ–≥–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥–µ–ª–µ–π –≤–∏–¥–Ω—ã –≤ –∫–æ–Ω—Å–æ–ª–∏

### –ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç WebSocket
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ —Ç–æ–º –∂–µ –ø–æ—Ä—Ç—É
- –í –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –Ω—É–∂–µ–Ω Redis –¥–ª—è Channels
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ASGI

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–≠—Ç–æ—Ç MVP —Å–æ–∑–¥–∞–Ω –∫–∞–∫ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π. –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è.

**–£–¥–∞—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è! üéâ**
